{"index.js":"// Create an array of objects which hold the denominations and their values\nvar denom = [\n  { name: 'ONE HUNDRED', val: 100.00},\n  { name: 'TWENTY', val: 20.00},\n  { name: 'TEN', val: 10.00},\n  { name: 'FIVE', val: 5.00},\n  { name: 'ONE', val: 1.00},\n  { name: 'QUARTER', val: 0.25},\n  { name: 'DIME', val: 0.10},\n  { name: 'NICKEL', val: 0.05},\n  { name: 'PENNY', val: 0.01}\n];\n\nfunction checkCashRegister(price, cash, cid) {\n  var output = { status: null, change: [] };\n  var change = cash - price;\n\n  // Transform CID array into drawer object\n  var register = cid.reduce(function(acc, curr) {\n    acc.total += curr[1];\n    acc[curr[0]] = curr[1];\n    return acc;\n  }, { total: 0 });\n\n  // Handle exact change\n  if (register.total === change) {\n    output.status = 'CLOSED';\n    output.change = cid;\n    return output;\n  }\n\n  // Handle obvious insufficient funds\n  if (register.total < change) {\n    output.status = 'INSUFFICIENT_FUNDS';\n    return output;\n  }\n\n  // Loop through the denomination array\n  var change_arr = denom.reduce(function(acc, curr) {\n    var value = 0;\n    // While there is still money of this type in the drawer\n    // And while the denomination is larger than the change remaining\n    while (register[curr.name] > 0 && change >= curr.val) {\n      change -= curr.val;\n      register[curr.name] -= curr.val;\n      value += curr.val;\n\n      // Round change to the nearest hundreth deals with precision errors\n      change = Math.round(change * 100) / 100;\n    }\n    // Add this denomination to the output only if any was used.\n    if (value > 0) {\n        acc.push([ curr.name, value ]);\n    }\n    return acc; // Return the current change_arr\n  }, []); // Initial value of empty array for reduce\n\n  // If there are no elements in change_arr or we have leftover change, return\n  // the string \"Insufficient Funds\"\n  if (change_arr.length < 1 || change > 0) {\n    output.status = 'INSUFFICIENT_FUNDS';\n    return output;\n  }\n\n  // Here is your change, ma'am.\n  output.status = 'OPEN';\n  output.change = change_arr;\n  return output;\n}\n\n// test here\ncheckCashRegister(19.50, 20.00, [[\"PENNY\", 1.01], [\"NICKEL\", 2.05], [\"DIME\", 3.10], [\"QUARTER\", 4.25], [\"ONE\", 90.00], [\"FIVE\", 55.00], [\"TEN\", 20.00], [\"TWENTY\", 60.00], [\"ONE HUNDRED\", 100.00]]);"}